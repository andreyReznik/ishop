/*!
 * Google Analytics Tracking Enhancer (GATE) v4.10.10
 * Enhances and expands the tracking capabilities of Google Analytics.
 *
 * Distributed for use on approved client sites.
 *
 * Copyright (c) 2015 ROI Revolution, Inc.
 * For use only by active clients of ROI Revolution, Inc. on approved web
 * properties. Modification, redistribution, and/or attempted reverse engineering
 * of this script is strictly forbidden and may be subject to legal action.
 * http://www.roirevolution.com/
 */

/*! Modified from https://github.com/addyosmani/jquery.parts/blob/master/jquery.documentReady.js */
window.ROIStorage=window.ROIStorage||{};ROIStorage.windowName=ROIStorage.windowName||window.name;ROIStorage.GoogleAnalyticsObject=ROIStorage.GoogleAnalyticsObject||"ga";(function(h){var f=function(m){a(m);e()},j=h.document,i=false,g=[],a=function(m){if(typeof m==="function"){g.push(m)}},c=function(){while(g.length){(g.shift())()}a=function(m){m()}},l=function(){if(j.addEventListener){j.removeEventListener("DOMContentLoaded",l,false)}else{j.detachEvent("onreadystatechange",l)}b()},b=function(){if(!f.isReady){if(!j.body){return setTimeout(b,1)}f.isReady=true;c()}},e=function(){var m=false;if(i){return}i=true;if(j.readyState!=="loading"){b()}if(j.addEventListener){j.addEventListener("DOMContentLoaded",l,false);h.addEventListener("load",l,false)}else{if(j.attachEvent){j.attachEvent("onreadystatechange",l);h.attachEvent("onload",l);try{m=h.frameElement===null}catch(n){}if(j.documentElement.doScroll&&m){d()}}}},d=function(){if(f.isReady){return}try{j.documentElement.doScroll("left")}catch(m){setTimeout(d,1);return}b()},k=h.ROIStorage||{};f.isReady=false;k.runOnDocumentReady=f})(window);

/*! GATE */
(function(d,e,j,h,f,c,b){d.GoogleAnalyticsObject=f;d[f]=d[f]||function(){(d[f].q=d[f].q||[]).push(arguments)},d[f].l=1*new Date();c=e.createElement(j),b=e.getElementsByTagName(j)[0];c.async=1;c.src=h;b.parentNode.insertBefore(c,b)})(window,document,"script","//www.google-analytics.com/analytics.js",ROIStorage.GoogleAnalyticsObject);ROIStorage.clone=function(d){var e,c,b,a;if(null===d||"object"!==typeof d){return d}if(d instanceof Date){e=new Date();e.setTime(d.getTime());return e}if(d instanceof Array){e=[];for(c=0,a=d.length;c<a;c+=1){e[c]=ROIStorage.clone(d[c])}return e}if(d instanceof Object){e={};for(b in d){if(d.hasOwnProperty(b)){e[b]=ROIStorage.clone(d[b])}}return e}};(function(){var c=function(){window[ROIStorage.GoogleAnalyticsObject].apply(window,arguments)};window.roiTrackers={};function a(d){if(d.indexOf(".")===-1){return d}return d.split(".")[1]}if(typeof ROITracker!=="undefined"){return}ROIStorage.roiq.push(function(){var f=ROIStorage.GoogleAnalyticsObject,d;function e(g){if(g.indexOf(".")===-1||/^t0\./.test(g)){return roiTrackers[""]}return roiTrackers[g.split(".")[0]+"."]}window[f]=function(){var l,i,g,h,k,j=ROIStorage.clone(Array.prototype.slice.call(arguments,0));if(typeof arguments[0]==="function"){ROIStorage.realGa(arguments[0]);return}l=a(j[0]);i=e(j[0]);if(i&&l){g=i.getChildren();switch(l){case"create":break;case"set":if(i.isSetAllowed(j)){ROIStorage.realGa.apply(window,j);i.addToSetConfig(j)}break;case"send":if(i.isSendAllowed(j)){i.runEnhancedEcommerce(false);ROIStorage.realGa.apply(window,ROIStorage.clone(i.applySendConfig(j)));i.resetConfigs()}else{i.runEnhancedEcommerce()}break;default:if(/^ecommerce:/i.test(l)){i.handleEcommerceMethod(j)}else{if(/^ec:/i.test(l)){i.handleEnhancedEcommerceMethod(j)}else{ROIStorage.realGa.apply(window,j)}}}for(h=0,k=g.length;h<k;h+=1){j[0]=g[h]+l;window[f].apply(window,j)}}};for(d in ROIStorage.realGa){if(ROIStorage.realGa.hasOwnProperty(d)){window[f][d]=ROIStorage.realGa[d]}}window[f].getAll=function(){var k=ROIStorage.realGa.getAll(),g=[],h,j;for(j=0,h=k.length;j<h;j+=1){if(!b.arrayContains(b.hiddenTrackers,k[j].get("name")+".")){g.push(k[j])}}return g};window[f].create=function(){}});var b={hiddenTrackers:[],hasPropertyBesides:function(d,e){var f;for(f in d){if(d.hasOwnProperty(f)){if(!this.arrayContains(e,f)){return true}}}return false},arrayContains:function(f,e){var d;for(d=0;d<f.length;d+=1){if(e===f[d]){return true}}return false},isFunction:function(d){return typeof d==="function"},setCookieAutoDomain:function(f,l,j){var d=document.domain.split("."),k=d[d.length-1],h=false,g=2,e="junk";while(!h&&g<=d.length){k=d[d.length-g]+"."+k;this.setCookie(f,e,j,k);h=this.setCookie(f,l,j,k);g+=1}if(!h){this.setCookie(f,l,j);return location.hostname}else{return k}},setCookie:function(e,h,g,f){var d=new Date(),i=h.toString().replace(/;/g,function(j){return window.encodeURIComponent(j)});d.setDate(d.getDate()+(g!==undefined?g:364/2));i+="; expires="+d.toUTCString();i+=((f===undefined)?"":"; domain="+f);i+="; path=/";document.cookie=e+"="+i;return this.getCookieValue(e)===h.toString()},getCookieValue:function(e){var f=new RegExp("(?:^|; )"+e+"=([^;]+)"),d=f.exec(document.cookie);if(d&&d[1]){return window.decodeURIComponent(d[1])}return null},getSplitCookie:function(d){var e=/^([^=]+)=(.+)$/.exec(d);if(e&&e[1]&&e[2]){return[e[1],e[2]]}return null},breakCookie:function(d){ROITracker.setCookieAutoDomain(d,"delete",0)},crossDomain:{linkingRegex:/^(?:__roi|__utmx(?:x|_k)?|zma[cgkp]|kw|sid)/,windowNameSplittingRegex:/;\s*/,windowNameJoiningString:";",tempValue:";do_not_match_current_window_name;",nonReferralDomains:[],crossDomainEnabled:false,windowNameRead:false,setCookiesFromWindowName:function(){var d=ROIStorage.windowName.split(this.windowNameSplittingRegex),f=d.length,g,j,h,e;for(e=0;e<f;e+=1){g=b.getSplitCookie(d[e]);if(g!==null){j=g[0];h=g[1];if(this.linkingRegex.test(j)||j==="_ga"){b.setCookieAutoDomain(j,h)}}}},setWindowNameFromCookies:function(d){window.name=this.getNonRoiValuesFromWindowName()+d},urlInNonReferralDomains:function(d){var e,f=/^https?:\/\/(?:www\.)?([^\/]+)/i.exec(d);if(f&&f[1]){for(e=0;e<this.nonReferralDomains.length;e+=1){if(f[1].indexOf(this.nonReferralDomains[e])!==-1){return true}}}return false},tagNewWindowOpeningLinks:function(k){var e=document.getElementsByTagName("a"),d=e.length,f,j,h,g;ROIStorage.runOnDocumentReady(function(){for(g=0;g<d;g+=1){h=e[g];f=(h.rel==="external");j=f||(h.target!==""&&h.target!==window.name&&h.target!=="_self");if(j&&b.crossDomain.urlInNonReferralDomains(h.href)){if(f){h.rel=""}h.target=(h.target+b.crossDomain.tempValue+k).replace(/\s/g,"")}}})},getNonRoiValuesFromWindowName:function(){var e=[],g=window.name.split(this.windowNameSplittingRegex),l=g.length,d,h,k,j,f;for(f=0;f<l;f+=1){d=g[f];h=b.getSplitCookie(d);if(h!==null){k=h[0];j=h[1];if(!this.linkingRegex.test(k)&&k!=="_ga"){e.push(d)}}else{if(d!==""){e.push(d)}}}return e.join(this.windowNameJoiningString)+this.windowNameJoiningString},buildLinkingCookieString:function(){var e=document.cookie.split("; "),g=e.length,d=[],h,k,j,f;for(f=0;f<g;f+=1){h=b.getSplitCookie(e[f]);if(h!==null){k=h[0];j=h[1];if(this.linkingRegex.test(k)||k==="_ga"){d.push(e[f])}}}return d.join(this.windowNameJoiningString)+this.windowNameJoiningString},removeTempValueFromWindowName:function(){window.name=window.name.replace(this.tempValue,this.windowNameJoiningString)}}};window.ROITracker=function(e,k){var j=this,g={name:k?k+".":"",account:e||"",children:[],unnamedPageviewUsed:false,customTaggingParamNames:[],},f={name:k||""},d={},h={},i={ecommerce:{callsQueued:false,transaction:{},allowTrans:true,transPrefix:"",transCallBack:null,itemCallBack:null,completeCallBack:null,storeTransaction:function(l){var m;for(m in l){if(l.hasOwnProperty(m)){this.transaction[m]=l[m]}}},storeTransactionItem:function(l){this.transaction.orderItems=this.transaction.orderItems||[];this.transaction.orderItems.push(l)},transactionQueued:function(){return this.transaction.id!==undefined},clearTransaction:function(){this.transaction={}},applyTransPrefix:function(l){l.id=i.ecommerce.transPrefix+l.id},convertEcommerceToEc:function(p){var n=p[0].split(":")[1],l;switch(n){case"addTransaction":l=[g.name+"ec:setAction","purchase",p[1]];break;case"addItem":l=[g.name+"ec:addProduct",p[1]];var m=p[1].name,o=p[1].SKU||p[1].sku;if(o){l[1].id=o}else{l[1].name=m;l[1].id=""}break;case"send":l=["send"];break;case"clear":l=[g.name+"ec:clear"];break;default:l=p}return l},executeTransCallBack:function(){var m,n,o=this.transaction,l=o.orderItems||[];if(b.isFunction(this.transCallBack)){this.transCallBack(o.revenue,o.id,o.tax,o.shipping)}if(b.isFunction(this.itemCallBack)){for(m=0;m<l.length;m+=1){n=l[m];this.itemCallBack(o.revenue,o.id,n.id,n.quantity,n.name,n.category,n.price)}}if(b.isFunction(this.completeCallBack)){this.completeCallBack()}this.clearTransaction()}},handleAttribution:function(){var q=i.cpcCookieExists(),n=i.isCpcQuery(g.paidQueryRegex),p=i.firstCookieExists(),m=i.preserveAttribution,o=i.setCpcCookie,l=i.setFirstCookie;if(i.isNotDirectVisit()){if(g.firstTouch){if(g.cpcTrump){if(q){m();l()}else{if(n){o();l()}else{if(p){m()}else{l()}}}}else{if(p){m()}else{l()}}}else{if(g.cpcTrump){if(n){o()}else{if(q){m()}}}}}},cpcCookieName:"__roiCpc",firstCookieName:"__roiNonDirect",cpcCookieExists:function(){return ROITracker.getCookieValue(i.cpcCookieName)!==null},firstCookieExists:function(){return ROITracker.getCookieValue(i.firstCookieName)!==null},setCpcCookie:function(){ROIStorage.q.push([function(){ROITracker.setCookieAutoDomain(i.cpcCookieName,"true")}])},setFirstCookie:function(){ROIStorage.q.push([function(){ROITracker.setCookieAutoDomain(i.firstCookieName,"true")}])},isCpcQuery:function(m){var n=m||"gclid=|utm_medium=(?:cpc|ppc)",l=new RegExp("[?&#]("+n+")","i");return l.test(location.href)},isNotDirectVisit:function(){var n,o,l=false,m=new RegExp(i.getCustomParamRegexString(),"i");o=/utm_(?:source|id)|gclid/i.test(location.href)||m.test(location.href);if(document.referrer!==""){l=true;if(b.crossDomain.nonReferralDomains.length===0){b.crossDomain.nonReferralDomains.push(i.getCookieDomain())}for(n=0;n<b.crossDomain.nonReferralDomains.length;n+=1){if(document.referrer.indexOf(b.crossDomain.nonReferralDomains[n])!==-1){l=false;break}}}return(o||l)},refreshFlagCookies:function(){if(i.firstCookieExists()){i.setFirstCookie()}if(i.cpcCookieExists()){i.setCpcCookie()}},preserveAttribution:function(){d.referrer="";h.location=i.getStrippedPage()},getStrippedPage:function(){var l=i.getCustomParamRegexString(),n,m=(location.search).replace(/[?&](?:gclid|utm_(?:source|medium|campaign|content|term|id))=[^&]*/ig,"");if(l!==null){n=new RegExp("[?&](?:"+l+")=[^&]*","ig");m=m.replace(n,"")}m=m.replace(/^&/,"?");return location.protocol+"//"+location.hostname+location.pathname+m},getCustomParamRegexString:function(){var l=g.customTaggingParamNames;if(l.length>0){return l.join("|")}return null},addNewParamKey:function(n,l){var m=(i.getCurrentQueryString()).replace(n,l);h.location=location.protocol+"//"+location.hostname+location.pathname+m;g.customTaggingParamNames.push(n)},getCurrentQueryString:function(){var l=h.location||document.location,m=/(\?.*)(?:$|#)/.exec(l);return m?m[1]:""},storeAttributionPreferences:function(m,n,l,p,o){g.cpcTrump=m||false;g.firstTouch=n||false;g.legacyCookieNamespace=l;g.paidQueryRegex=p;g.paidCookieRegex=o},ensureCookieDomainConfigSet:function(){if(!f.hasOwnProperty("cookieDomain")){f.cookieDomain="auto"}},handleLegacyCookies:function(){function m(){var w=document.cookie.split("; "),t=w.length,x={},v,u;for(u=0;u<t;u+=1){v=(/^(2?__utm[za](?:_[a-z_\-]+)?)=(.+)$/).exec(w[u]);if(v){x[v[1]]=v[2]}}return x}function l(w,v){var u,t=w+"="+v;u=/^(?:2__utm[za]=\^([a-z_\-]+)\.|__utm[za]_([a-z_\-]+)=)/.exec(t);if(u){return(u[1]||u[2])===g.legacyCookieNamespace}return false}function s(t){return(/(__utm[za])/).exec(t)[1]}function r(t){return t.replace(/\^[a-z_\-]+\.\d+:/i,"")}function n(w){var u=g.firstTouch&&g.cpcTrump,t=!/utmcsr=\(direct\)/.test(w),v=(g.paidCookieRegex?new RegExp(g.paidCookieRegex,"i"):/utmgclid=|utmcmd=(cpc|ppc)/).test(w);if(u&&v){i.preserveAttribution();i.setFirstCookie();i.setCpcCookie()}else{if(g.firstTouch&&t){i.preserveAttribution();i.setFirstCookie()}}}var q,p,o;if(g.legacyCookieNamespace!==undefined){o=m();for(q in o){if(o.hasOwnProperty(q)){p=o[q];if(l(q,p)){ROITracker.setCookieAutoDomain(s(q),r(p));n(p);b.breakCookie(q)}}}}ROIStorage.q.push([function(){b.breakCookie("__utma");b.breakCookie("__utmz")}])},mergeObjects:function(m,n){var l;for(l in m){if(m.hasOwnProperty(l)){n[l]=m[l]}}return n},trackFacebook:function(){var l=window.fbAsyncInit;window.fbAsyncInit=function(){var m=window.FB;if(b.isFunction(l)){l()}try{if(m&&m.Event&&m.Event.subscribe){m.Event.subscribe("edge.create",function(o){c("send","social","facebook","like",o)});m.Event.subscribe("edge.remove",function(o){c("send","social","facebook","unlike",o)});m.Event.subscribe("message.send",function(o){c("send","social","facebook","send",o)})}}catch(n){}}},trackTwitter:function(){var l=window.twttr;if(typeof l==="undefined"){return}l.ready(function(m){m.events.bind("tweet",function(n){if(n){c("send","social","twitter","tweet",location.href)}});m.events.bind("follow",function(n){if(n){c("send","social","twitter","follow",location.href)}})})},trickle:function(o,l){var n,p,m;for(n=0,p=g.children.length;n<p;n+=1){m=roiTrackers[g.children[n]];m[o].apply(m,l)}},getCookieDomain:function(){if(f.cookieDomain&&f.cookieDomain!=="auto"&&f.cookieDomain!=="none"){return f.cookieDomain}return ROITracker.setCookieAutoDomain("roiDomain","1")}};this.setAttributionModel=function(l,n,o,m,p){i.storeAttributionPreferences(l,n,o,m,p);i.refreshFlagCookies()};this.isSendAllowed=function(m){var l,n=m[1];if(n==="pageview"){if(m[2]===undefined){if(!g.unnamedPageviewUsed){g.unnamedPageviewUsed=true;return true}return false}return true}if(typeof n==="object"&&n.hitType==="pageview"){if(!b.hasPropertyBesides(n,["hitType"])){return false}if(n.page&&n.page!==""){return true}l=!g.unnamedPageviewUsed;g.unnamedPageviewUsed=true;if(b.hasPropertyBesides(n,["hitType","page"])){return true}return l}return true};this.isSetAllowed=function(m){var n=m[1],l=/^campaign(?:Name|Source|Medium|Keyword|Content|Id)$/i.test(n);if(l||n==="location"||n==="referrer"){return false}return true};this.applySendConfig=function(n){var m=Array.prototype.slice.call(n,0),l=m.length;if(typeof m[1]==="object"){m[1]=i.mergeObjects(m[1],h)}else{if(typeof m[l-1]==="object"){m[l-1]=i.mergeObjects(m[l-1],h)}else{if(m[1]==="pageview"){if(l===2){m.push(h)}else{if(typeof m[2]==="string"){h.hitType="pageview";h.page=m[2];m[2]=h}else{m.push(h)}}}else{m.push(h)}}}return m};this.addToSetConfig=function(l){if(typeof l[1]==="object"){i.mergeObjects(l[1],d)}else{if(typeof l[1]==="string"&&typeof l[2]==="string"){d[l[1]]=l[2]}}};this.resetConfigs=function(){var l=h.location,m=d.referrer;if(l){h={location:l}}else{h={}}if(m){d={referrer:m}}else{d={}}};this.handleEcommerceMethod=function(l){l=i.ecommerce.convertEcommerceToEc(l);this.handleEnhancedEcommerceMethod(l)};this.handleEnhancedEcommerceMethod=function(m){var n=a(m[0]),l=(n==="ec:setAction"&&m[1]==="purchase");c("require","ec");if(n==="send"){this.runEnhancedEcommerce()}else{if(n==="ec:addProduct"){i.ecommerce.storeTransactionItem(ROIStorage.clone(m[1]))}else{if(n==="ec:clear"){i.ecommerce.clearTransaction();i.ecommerce.callsQueued=false}else{if(l){i.ecommerce.applyTransPrefix(m[2]);i.ecommerce.storeTransaction(ROIStorage.clone(m[2]))}}}}if(i.ecommerce.allowTrans||!l){ROIStorage.realGa.apply(window,m);if(n!=="ec:clear"){i.ecommerce.callsQueued=true}}};this.runEnhancedEcommerce=function(l){if(i.ecommerce.callsQueued===true){if(i.ecommerce.allowTrans&&i.ecommerce.transactionQueued()){i.ecommerce.executeTransCallBack()}i.ecommerce.clearTransaction();i.ecommerce.callsQueued=false;if(l!==false){ROIStorage.realGa(g.name+"send","event","Ecommerce","Action",{nonInteraction:1})}}};this._setCampSourceKey=function(l){if(ROITracker.getQueryParameter(l)!==null){i.addNewParamKey(l,"utm_source");i.trickle("_setCampSourceKey",arguments)}};this._setCampMediumKey=function(l){if(ROITracker.getQueryParameter(l)!==null){i.addNewParamKey(l,"utm_medium");i.trickle("_setCampMediumKey",arguments)}};this._setCampTermKey=function(l){if(ROITracker.getQueryParameter(l)!==null){i.addNewParamKey(l,"utm_term");i.trickle("_setCampTermKey",arguments)}};this._setCampContentKey=function(l){if(ROITracker.getQueryParameter(l)!==null){i.addNewParamKey(l,"utm_content");i.trickle("_setCampContentKey",arguments)}};this._setCampNameKey=function(l){if(ROITracker.getQueryParameter(l)!==null){i.addNewParamKey(l,"utm_campaign");i.trickle("_setCampNameKey",arguments)}};this._setVisitorCookieTimeout=function(l){f.cookieExpires=l/1000;i.trickle("_setVisitorCookieTimeout",arguments)};this._setAllowLinker=function(l){f.allowLinker=l;i.trickle("_setAllowLinker",arguments)};this._setSiteSpeedSampleRate=function(l){f.siteSpeedSampleRate=l;i.trickle("_setSiteSpeedSampleRate",arguments)};this._trackEvent=function(m,n,o,l){c("send","event",m,n,o,l)};this._addTrans=function(l,o,p,n,m){c("require","ecommerce","ecommerce.js");c("ecommerce:addTransaction",{id:l,affiliation:o,revenue:p,tax:n,shipping:m})};this._addItem=function(l,q,m,o,n,p){c("ecommerce:addItem",{id:l,sku:q,name:m,category:o,price:n,quantity:p})};this._trackTrans=function(){c("ecommerce:send")};this._clearTrans=function(){c("ecommerce:clear")};this.setTransCallBack=function(n,m,l){i.ecommerce.transCallBack=n;i.ecommerce.itemCallBack=m;i.ecommerce.completeCallBack=l};this.setTransPrefix=function(l){i.ecommerce.transPrefix=l};this.setAllowTrans=function(l){i.ecommerce.allowTrans=l;i.trickle("setAllowTrans",arguments)};this.trackTransForm=function(){ROIStorage.runOnDocumentReady(function(){ROIStorage.q.push([function(){var o,l,n,p,m=document.getElementById("utmtrans");if(m===null){return}c("require","ecommerce","ecommerce.js");o=m.innerHTML.trim().replace(/\n/g,"").split("UTM:");for(p=0,l=o.length;p<l;p+=1){if(o[p]){n=o[p].split("|");if(n[0]==="T"){c("ecommerce:addTransaction",{id:n[1],affiliation:n[2],revenue:n[3],tax:n[4],shipping:n[5]})}else{if(n[0]==="I"){c("ecommerce:addItem",{id:n[1],sku:n[2],name:n[3],category:n[4],price:n[5],quantity:n[6]})}}}}c("ecommerce:send")}])})};this.setCustomData=function(l,m){d[l]=m;i.trickle("setCustomData",arguments)};this.setReferrerCustomDimension=function(o){var l=document.referrer,m=/^https?:\/\/([^\/]+)\//i;function n(s,q){var p,r;for(p=0;p<s.length;p+=1){r=s[p];if(r.charAt(0)!=="."){r="."+r}if(q.indexOf(r)!==-1){return true}}return false}if(l!==""){l=m.exec(l);if(l&&l[1]){l=l[1];if(l!==location.hostname&&!n(b.crossDomain.nonReferralDomains,l)&&!/(?:paypal|netsuite|shopify|bigcommerce)\.com/i.test(l)){this.setCustomData("dimension"+o,l.replace(/^www\./,""))}}}};this.trackSocial=function(){ROIStorage.runOnDocumentReady(function(){i.trackFacebook();i.trackTwitter()})};this.getChildren=function(){return g.children};this.setDomainNames=function(l){b.crossDomain.nonReferralDomains=l;b.crossDomain.crossDomainEnabled=true;if(!b.crossDomain.windowNameRead){b.crossDomain.setCookiesFromWindowName();b.crossDomain.removeTempValueFromWindowName();b.crossDomain.windowNameRead=true}};this._setDomainName=function(l){f.cookieDomain=l;b.crossDomain.nonReferralDomains=[l];i.trickle("_setDomainName",arguments)};this._trackPageview=function(l){ROIStorage.roiq.push(function(){if(g.account!==""){i.handleLegacyCookies();i.ensureCookieDomainConfigSet();i.handleAttribution();ROIStorage.realGa("create",g.account,f);ROIStorage.realGa(g.name+"require","displayfeatures");ROIStorage.realGa(g.name+"require","linkid","linkid.js");ROIStorage.realGa(g.name+"set",d);if(l!==false&&l!==undefined){h.page=l;ROIStorage.realGa(g.name+"send","pageview",ROIStorage.clone(h))}else{if(l!==false&&!g.unnamedPageviewUsed){g.unnamedPageviewUsed=true;ROIStorage.realGa(g.name+"send","pageview",h)}}j.resetConfigs()}});i.trickle("_trackPageview",arguments)};this.useBeacon=function(){j.setTransportMethod("beacon");i.trickle("useBeacon",arguments)};this.setTransportMethod=function(l){if(!(l==="beacon"||l==="image"||l==="xhr")){return}h.transport=l;i.trickle("setTransportMethod",arguments)};this.createTracker=function(l,n){var m=new ROITracker(l,n);j.addTracker(m);return m};this.addTracker=function(l){var m=l.getName();g.children.push(m);b.hiddenTrackers.push(m)};this.getName=function(){return g.name};roiTrackers[g.name]=this};ROITracker.setCookieAutoDomain=function(){return b.setCookieAutoDomain.apply(b,arguments)};ROITracker.getCookieValue=function(){return b.getCookieValue.apply(b,arguments)};ROITracker.getCookie=function(d){return ROITracker.getCookieValue(d)};ROITracker.trackAdWordsConversion=function(j,f,i,d){var e=new Image(),h=location.protocol+"//www.googleadservices.com/pagead/conversion/"+j+"/",k=new Date(),g=document.getElementsByTagName("script")[0];h+="?random="+k.getTime();h+="&cv=7";h+="&fst="+k.getTime();h+="&num=1";h+="&fmt=3";h+=(i>0)?"&value="+i:"";h+=(d!==undefined)?"&currency_code="+d:"";h+="&label="+f;h+="&guid=ON";h+="&bg=ffffff";h+="&hl=en";h+="&gl=US";h+="&url="+window.escape(location.href.toString().substring(0,256));h+="&frm=0";e.height="1";e.width="1";e.style.borderStyle="none";e.alt="";e.src=h;g.parentNode.insertBefore(e,g)};ROITracker.trackAdWordsRemarketing=function(h,e){var d=new Image(),g=location.protocol+"//googleads.g.doubleclick.net/pagead/viewthroughconversion/"+h+"/",f=document.getElementsByTagName("script")[0];g+="?value=0";g+="&label="+e;g+="&guid=ON";g+="&script=0";d.height="1";d.width="1";d.style.borderStyle="none";d.alt="";d.src=g;f.parentNode.insertBefore(d,f)};ROITracker.trackDynamicRemarketing=function(d){ROIStorage.runOnDocumentReady((function(e){return function(){var f=new Image(),j=location.protocol+"//googleads.g.doubleclick.net/pagead/viewthroughconversion/"+e+"/",i=document.getElementsByTagName("script")[0],k=new Date(),h,g;j+="?random="+k.getTime();j+="&cv=7";j+="&fst="+k.getTime();j+="&num=1";j+="&fmt=1";j+="&guid=ON";j+="&url="+window.escape(location.href.toString().substring(0,256));if(typeof window.google_tag_params==="object"){h="";for(g in window.google_tag_params){if(window.google_tag_params.hasOwnProperty(g)){h+=g+"="+window.google_tag_params[g]+";"}}j+="&data="+window.escape(h.substring(0,h.length-1))}f.height="1";f.width="1";f.style.borderStyle="none";f.alt="";f.src=j;i.parentNode.insertBefore(f,i)}}(d)))};ROITracker.trackMSNConversion=function(j,i,g,e,h){var d=new Image(),f=document.getElementsByTagName("script")[0],k;g=g||"";e=e||"";h=h||"";k=location.protocol+"//"+j+".r.msn.com/?type=1&domainId="+j+"&dedup=1&actionid="+i+"&revenue="+g+"&taxcost="+e+"&shippingcost="+h;d.height="1";d.width="1";d.style.borderStyle="none";d.alt="";d.src=k;f.parentNode.insertBefore(d,f)};ROITracker.trackBingConversion=ROITracker.trackMSNConversion;ROITracker.makeUETHit=function(h,g){var d,e,f=document.getElementsByTagName("script")[0];window.uetq=window.uetq||[];d=function(){window.uetq=new UET({ti:h,q:window.uetq});window.uetq.push(g)};e=document.createElement("script");e.src="//bat.bing.com/bat.js";e.async=1;e.onload=e.onreadystatechange=function(){var i=this.readyState;if(!i||i==="loaded"||i==="complete"){d();e.onload=e.onreadystatechange=null}};f.parentNode.insertBefore(e,f)};ROITracker.trackUETMSNPageview=function(d){ROITracker.makeUETHit(d,"pageLoad")};ROITracker.trackUETBingPageview=ROITracker.trackUETMSNPageview;ROITracker.trackUETMSNConversion=function(f,e,d){ROITracker.makeUETHit(f,{ec:"conversion",gv:e||0,ea:d||null})};ROITracker.trackUETBingConversion=ROITracker.trackUETMSNConversion;ROITracker.trackGeminiConversion=function(e,d){var f=new Image(),g=document.getElementsByTagName("script")[0],h="//sp.analytics.yahoo.com/sp.pl";h+="?a="+e;h+="&.yp="+d;h+="&b="+encodeURIComponent(document.title);h+="&f="+encodeURIComponent(location.href);f.height="1";f.width="1";f.style.borderStyle="none";f.alt="";f.src=h;g.parentNode.insertBefore(f,g)};ROITracker.setMerchantAdvantageCookies=function(d){window._maCookieDays=d||30;if(/zmam=/i.test(location.search)){var f=document.createElement("script");f.type="text/javascript";f.async=true;f.src=(document.location.protocol=="https:"?"https://secure":"http://chanalytics")+".merchantadvantage.com/inchannel/maclick.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(f,e)}};ROITracker.trackMerchantAdvantageItem=function(k,d,j,g,h,f){var l,e=new Image(),i=(document.location.protocol==="https:"?"https://secure":"http://chanalytics")+".merchantadvantage.com/inChannel/cap2q_new.asp",n=document.getElementsByTagName("script")[0],m=(function(){function o(){var p={};p.zmap=ROITracker.getCookieValue("zmap")||"0";p.zmac=ROITracker.getCookieValue("zmac")||"0";p.sid=ROITracker.getCookieValue("sid")||"0";p.zmag=ROITracker.getCookieValue("zmag")||"0";p.zmak=ROITracker.getCookieValue("zmak")||"0";p.kw=ROITracker.getCookieValue("kw")||"0";p.zmar=document.referrer.substring(0,2000);return p}if(typeof ROITracker.merchantAdvantageCookies==="object"){return ROITracker.merchantAdvantageCookies}ROITracker.merchantAdvantageCookies=o();return ROITracker.merchantAdvantageCookies}());i+="?zmam="+h;i+="&zmas="+f;for(l in m){if(m.hasOwnProperty(l)&&l!=="zmap"){i+="&"+l+"="+m[l]}}i+="&zmat="+k;i+="&zman="+d;i+="&zmap="+j;i+="&qty="+g;i+="&zmaq=N";e.height="0";e.width="0";e.style.borderStyle="none";e.alt="";e.src=i;n.parentNode.insertBefore(e,n)};ROITracker.trackFacebookConversion=function(h,g){var d=new Image(),f=document.getElementsByTagName("script")[0],e="https://www.facebook.com/tr";e+="?ev="+h;e+="&dl="+encodeURIComponent(document.location);e+="&rl="+encodeURIComponent(document.referrer);e+="&cd[value]="+(g!==undefined?g:0);e+="&cd[currency]=USD";e+="&ts="+new Date().getTime();d.height="1";d.width="1";d.style.borderStyle="none";d.alt="";d.src=e;f.parentNode.insertBefore(d,f)};ROITracker.trackFacebookAudience=function(d){var e=new Image(),h=document.getElementsByTagName("script")[0],g="https://www.facebook.com/tr",f=window.top!==window;g+="?id="+d;g+="&ev=PixelInitialized";g+="&if="+f;g+="&dl="+encodeURIComponent(document.location);g+="&rl="+encodeURIComponent(document.referrer);g+="&ts="+new Date().getTime();e.height="1";e.width="1";e.style.borderStyle="none";e.alt="";e.src=g;h.parentNode.insertBefore(e,h)};ROITracker.trackAdRoll=function(d,g,f,e){ROIStorage.runOnDocumentReady(function(){window.adroll_adv_id=d;window.adroll_pix_id=g;if(typeof f!=="undefined"){window.adroll_conversion_value_in_dollars=f}if(typeof e!=="undefined"){window.adroll_custom_data={ORDER_ID:e}}window.__adroll_loaded=true;var i=document.createElement("script"),h=(("https:"===document.location.protocol)?"https://s.adroll.com":"http://a.adroll.com");i.setAttribute("async","true");i.type="text/javascript";i.src=h+"/j/roundtrip.js";((document.getElementsByTagName("head")||[null])[0]||document.getElementsByTagName("script")[0].parentNode).appendChild(i)})};ROITracker.getQueryParameter=function(e){var f=new RegExp("(?:[?&#])"+e+"=([^&#]+)"),d=f.exec(location.search+location.hash);if(d){return window.unescape(d[1])}return null};ROITracker.clickHandler=function(e,f){var g=b.isFunction(f);return function d(){var i=this,h=!e(i);if(h){setTimeout(function(){if(g){f()}location.href=i.href;if(i.click){i.onclick="";i.click()}},300);return false}if(g){f()}return true}};ROITracker.submitHandler=function(f,e){return function d(){var i=this,h,g;if(!e||(g=e())||g===undefined){h=!f(i);if(h){setTimeout(function(){i.submit()},300)}else{return true}}return false}};ROITracker.gaCookieValueRegex=/^GA\d+\.\d+\.(\d+\.\d+)$/;ROITracker.getClientId=function(f){var d=f||ROITracker.getCookieValue("_ga"),e=ROITracker.gaCookieValueRegex.exec(d);if(e&&e[1]){return e[1]}return null};ROITracker.crmTracking=function(e,d,f){ROIStorage.q.push([function(){var n=ROITracker.getQueryParameter,m=ROITracker.getCookieValue,g=function(){var p=/[?&](?:q|p|query|encquery|qt|terms|rdata|qs|wd|text|szukaj|k|searchExpr|search_for|string|search_query|searchfor)=([^&]+)/,q=p.exec(document.referrer);if(q){return window.unescape(q[1])}return null},h=function(){var s,r,p,q=new Date();s=q.getFullYear().toString();r=(q.getMonth()+1).toString();p=q.getDate().toString();return s+(r.charAt(1)?r:"0"+r.charAt(0))+(p.charAt(1)?p:"0"+p.charAt(0))},o={cookieName:"__roia",fieldName:d||"roi_visitor",fieldValue:{id:ROITracker.getClientId(),fvisitdate:h(),fquery:g(),freferrer:document.referrer,flanding:location.pathname},extraValues:{form:location.pathname,gwo:m("__utmx")}},i={cookieName:"__roiz",fieldName:f||"roi_attribution",fieldValue:{clickdate:h(),source:n("gclid")?"google":n("utm_source"),medium:n("gclid")?"cpc":n("utm_medium"),campaign:n("ga_campaign")||n("utm_campaign"),adgroup:n("ga_adgroup")||n("utm_content"),creative:n("ga_creative")||n("utm_creative"),keyword:n("ga_keyword")||n("utm_term"),device:n("ga_device")||n("utm_device"),network:n("ga_network"),query:g(),referrer:document.referrer,landing:location.pathname},updateCondition:n("gclid")||n("utm_source")},l=function(p){var t,r;function q(w){var u,v="";for(u in w){if(w.hasOwnProperty(u)){v+="|";v+=u;v+="=";v+=w[u]?(w[u].toString()).substring(0,60):""}}v=v.substring(1);return v}function s(v){var u;for(u in v){if(v.hasOwnProperty(u)){v[u]=""}}return q(v)}this.addHiddenInput=function(v){var u;if(v[p.fieldName]){v[p.fieldName].value=window.unescape(r)}else{u=document.createElement("input");u.name=p.fieldName;u.value=window.unescape(r);u.type="hidden";v.appendChild(u)}};t=q(p.fieldValue);r="";if(!m(p.cookieName)&&(p.updateCondition!==undefined?p.updateCondition:true)){ROITracker.setCookieAutoDomain(p.cookieName,t,365)}r=m(p.cookieName)||s(p.fieldValue);if(p.extraValues!==undefined){r+="|";r+=q(p.extraValues)}},j=new l(o),k=new l(i);ROIStorage.runOnDocumentReady(function(){var r,q,p;for(r=0,p=e.length;r<p;r+=1){q=document.forms[e[r]]||document.getElementById(e[r]);if(q){j.addHiddenInput(q);k.addHiddenInput(q)}}})}])};ROITracker.processQueuedCommands=function(){var h=function(i){var l,k;function j(m){if(m.indexOf(".")===-1){return""}return m.split(".")[0]+"."}if(b.isFunction(i)){ROIStorage.runOnDocumentReady(i);return}l=a(i[0]);k=j(i[0]);switch(l){case"_addTrans":c(k+"require","ecommerce","ecommerce.js");c(k+"ecommerce:addTransaction",{id:i[1],affiliation:i[2],revenue:i[3],tax:i[4],shipping:i[5]});break;case"_addItem":c(k+"ecommerce:addItem",{id:i[1],sku:i[2],name:i[3],category:i[4],price:i[5],quantity:i[6]});break;case"_trackTrans":c(k+"ecommerce:send");break;case"_trackEvent":c(k+"send","event",{eventCategory:i[1],eventAction:i[2],eventLabel:i[3],eventValue:i[4]});break;case"_trackPageview":c(k+"send",{hitType:"pageview",page:i[1]});break;case"_trackSocial":c(k+"send","social",{socialNetwork:i[1],socialAction:i[2],socialTarget:i[3]});break;case"_trackTiming":c(k+"send","timing",{timingCategory:i[1],timingVar:i[2],timingValue:i[3],timingLabel:i[4]});break;case"_link":location.href=i[1];break;case"_setCustomVar":if(ROITracker.customVarMap){c(k+"set",ROITracker.customVarMap[i[1]],i[3])}break}};ROITracker.setWindowNameOnUnload=function(){ROIStorage.runOnDocumentReady(function(){window.setTimeout(function(){var i=window.onbeforeunload;window.onbeforeunload=function(){b.crossDomain.setWindowNameFromCookies(b.crossDomain.buildLinkingCookieString());if(b.isFunction(i)){return i()}}},100)})};function e(){var j;if(typeof ROIStorage.q==="object"){for(j=0;j<ROIStorage.q.length;j+=1){c.apply(window,ROIStorage.q[j])}ROIStorage.q=[]}}function f(){ROIStorage.q.push=function(i){c.apply(window,i)}}function g(){var j;if(typeof ROIStorage.gaq==="object"){for(j=0;j<ROIStorage.gaq.length;j+=1){h(ROIStorage.gaq[j])}ROIStorage.gaq=[]}}function d(){if(typeof ROIStorage.gaq==="object"){ROIStorage.gaq.push=function(i){h(i)}}}ROIStorage.roiq.push(function(){var i;e();f();g();d();if(b.crossDomain.crossDomainEnabled){i=b.crossDomain.buildLinkingCookieString();b.crossDomain.setWindowNameFromCookies(i);b.crossDomain.tagNewWindowOpeningLinks(i)}})};(function(e){var h,f,g,d=ROITracker.getClientId();if(Math.random()<0.01&&b.isFunction(window.XMLHttpRequest)&&d!==null){h=location.protocol;f=h==="http:"?h+"//www":h+"//ssl";f+=".google-analytics.com/collect?v=1&tid="+e+"&t=pageview";f+="&cid="+d;f+="&dl="+encodeURIComponent(document.URL);f+="&z="+Math.round((Math.random()+0.1)*1000000000);g=new XMLHttpRequest();g.open("GET",f,true);g.send()}})("UA-61700779-1")}());

var pageTracker = new ROITracker('UA-208976-2', '');
pageTracker.createTracker('UA-208976-5', 't3').setAttributionModel(true, true, 'first_cpc');
pageTracker.createTracker('UA-55282558-1', 't4');
pageTracker._setDomainName('jomashop.com');

if (/jomalive\.corrastage\.com/i.test(location.hostname)) {
    pageTracker._setDomainName('corrastage.com');
}

pageTracker.setTransCallBack(function(value, transId, tax, shipping) {
    ROITracker.trackAdWordsConversion('1072367177', 'OlljCLL_PRDJjKz_Aw', value);
    ROITracker.trackBingConversion('782842', '256700', value);
    ROITracker.trackGeminiConversion('10002006151118', '35036');
});

(function() {
    function getDimensionString(wId, clientId) {
        return wId + '::' + clientId;
    }

    function sendDimension(wId, clientId) {
        ga('send', 'event', 'CallTracking', 'SetIdDimension', {
            'nonInteraction': 1,
            'dimension1': getDimensionString(wId,clientId)
        });
    }

    var clientId = ROITracker.getClientId(),
        wId = ROITracker.getCookieValue('__wid');

    if (clientId && wId) {
        pageTracker.setCustomData('dimension1', getDimensionString(wId,clientId));
    } else {
        ga(function(){
            ROIStorage.runOnDocumentReady(function() {
                var clientId = ROITracker.getClientId(),
                    wId = ROITracker.getCookieValue('__wid');

                if (clientId && wId) {
                    sendDimension(wId,clientId);
                } else {
                    window.setTimeout(function() {
                        var clientId = ROITracker.getClientId(),
                            wId = ROITracker.getCookieValue('__wid');

                        sendDimension(wId,clientId);
                    }, 300);
                }
            });
        });
    }
})();

pageTracker._trackPageview();
ROITracker.trackAdWordsRemarketing('1072367177', 'RxI9COv82VYQyYys_wM');
ROITracker.trackUETBingPageview('4066581');
ROITracker.processQueuedCommands();
